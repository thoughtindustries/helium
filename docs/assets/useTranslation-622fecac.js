import{_ as k,a as z,b as D,I as R,R as F,g as B,e as H,f as J}from"./nonIterableRest-1390a7e0.js";import{r as d}from"./index-f1f749bf.js";function M(){if(console&&console.warn){for(var r,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];typeof n[0]=="string"&&(n[0]="react-i18next:: ".concat(n[0])),(r=console).warn.apply(r,n)}}var T={};function N(){for(var r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];typeof e[0]=="string"&&T[e[0]]||(typeof e[0]=="string"&&(T[e[0]]=new Date),M.apply(void 0,e))}function E(r,e,n){r.loadNamespaces(e,function(){if(r.isInitialized)n();else{var a=function i(){setTimeout(function(){r.off("initialized",i)},0),n()};r.on("initialized",a)}})}function U(r,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=e.languages[0],i=e.options?e.options.fallbackLng:!1,u=e.languages[e.languages.length-1];if(a.toLowerCase()==="cimode")return!0;var t=function(c,l){var m=e.services.backendConnector.state["".concat(c,"|").concat(l)];return m===-1||m===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!t(e.isLanguageChangingTo,r)?!1:!!(e.hasResourceBundle(a,r)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||t(a,r)&&(!i||t(u,r)))}function W(r,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e.languages||!e.languages.length)return N("i18n.languages were undefined or empty",e.languages),!0;var a=e.options.ignoreJSONStructure!==void 0;return a?e.hasLoadedNamespace(r,{precheck:function(u,t){if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&u.services.backendConnector.backend&&u.isLanguageChangingTo&&!t(u.isLanguageChangingTo,r))return!1}}):U(r,e,n)}function K(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a=[],i=!0,u=!1,t,p;try{for(n=n.call(r);!(i=(t=n.next()).done)&&(a.push(t.value),!(e&&a.length===e));i=!0);}catch(c){u=!0,p=c}finally{try{!i&&n.return!=null&&n.return()}finally{if(u)throw p}}return a}}function Y(r,e){return k(r)||K(r,e)||z(r,e)||D()}function _(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function I(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_(Object(n),!0).forEach(function(a){H(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}var q=function(e,n){var a=d.useRef();return d.useEffect(function(){a.current=n?a.current:e},[e,n]),a.current};function V(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.i18n,a=d.useContext(R)||{},i=a.i18n,u=a.defaultNS,t=n||i||J();if(t&&!t.reportNamespaces&&(t.reportNamespaces=new F),!t){N("You will need to pass in an i18next instance by using initReactI18next");var p=function(f){return Array.isArray(f)?f[f.length-1]:f},c=[p,{},!1];return c.t=p,c.i18n={},c.ready=!1,c}t.options.react&&t.options.react.wait!==void 0&&N("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var l=I(I(I({},B()),t.options.react),e),m=l.useSuspense,x=l.keyPrefix,o=r||u||t.options&&t.options.defaultNS;o=typeof o=="string"?[o]:o||["translation"],t.reportNamespaces.addUsedNamespaces&&t.reportNamespaces.addUsedNamespaces(o);var g=(t.isInitialized||t.initializedStoreOnce)&&o.every(function(s){return W(s,t,l)});function b(){return t.getFixedT(null,l.nsMode==="fallback"?o:o[0],x)}var A=d.useState(b),P=Y(A,2),C=P[0],y=P[1],O=o.join(),L=q(O),v=d.useRef(!0);d.useEffect(function(){var s=l.bindI18n,f=l.bindI18nStore;v.current=!0,!g&&!m&&E(t,o,function(){v.current&&y(b)}),g&&L&&L!==O&&v.current&&y(b);function w(){v.current&&y(b)}return s&&t&&t.on(s,w),f&&t&&t.store.on(f,w),function(){v.current=!1,s&&t&&s.split(" ").forEach(function(S){return t.off(S,w)}),f&&t&&f.split(" ").forEach(function(S){return t.store.off(S,w)})}},[t,O]);var j=d.useRef(!0);d.useEffect(function(){v.current&&!j.current&&y(b),j.current=!1},[t,x]);var h=[C,t,g];if(h.t=C,h.i18n=t,h.ready=g,g||!g&&!m)return h;throw new Promise(function(s){E(t,o,function(){s()})})}export{V as u};
//# sourceMappingURL=useTranslation-622fecac.js.map
